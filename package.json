{
  "name": "sumo",
  "displayName": "SUMO",
  "icon": "./res/icon/extension-icon.png",
  "description": "Full-featured SUMO/SUMO and TPTP development environment for VSCode",
  "version": "3.0.0",
  "publisher": "ontologyportal",
  "repository": {
    "type": "git",
    "url": "https://github.com/ontologyportal/vscode"
  },
  "license": "MIT",
  "scripts": {
    "test": "mocha test/**/*.test.js",
    "test:watch": "mocha --watch test/**/*.test.js",
    "lint": "node --check extension.js && node --check src/**/*.js",
    "build": "vsce package -o ./dist",
    "publish": "vsce publish"
  },
  "devDependencies": {
    "@electron/rebuild": "^4.0.0",
    "@vscode/vsce": "^3.7.1",
    "chai": "^4.5.0",
    "mocha": "^5.0.5",
    "proxyquire": "^2.1.3",
    "sinon": "^15.0.0"
  },
  "engines": {
    "vscode": "^1.70.0"
  },
  "categories": [
    "Programming Languages",
    "Formatters",
    "Linters"
  ],
  "main": "./extension.js",
  "activationEvents": [
    "onLanguage:sumo",
    "onLanguage:tptp"
  ],
  "contributes": {
    "commands": [
      {
        "command": "sumo.searchSymbol",
        "title": "SUMO: Search Symbol in Workspace"
      },
      {
        "command": "sumo.showTaxonomy",
        "title": "SUMO: Show Class Taxonomy"
      },
      {
        "command": "sumo.formatAxiom",
        "title": "SUMO: Format Axiom"
      },
      {
        "command": "sumo.goToDefinition",
        "title": "SUMO: Go to Definition"
      },
      {
        "command": "sumo.browseInSigma",
        "title": "SUMO: Browse Term in Sigma"
      },
      {
        "command": "sumo.checkErrors",
        "title": "SUMO: Check for Errors"
      },
      {
        "command": "sumo.queryProver",
        "title": "SUMO: Query with Theorem Prover"
      },
      {
        "command": "sumo.runProverOnScope",
        "title": "SUMO: Run Prover on..."
      },
      {
        "command": "sumo.generateTPTP",
        "title": "SUMO: Generate TPTP File"
      },
      {
        "command": "sumo.openKnowledgeBase",
        "title": "SUMO: Open Knowledge Base"
      },
      {
        "command": "sumo.createKnowledgeBase",
        "title": "SUMO: Create Knowledge Base"
      },
      {
        "command": "sumo.kbExplorer.refresh",
        "title": "SUMO: Reload KB",
        "icon": "$(refresh)"
      },
      {
        "command": "sumo.kbExplorer.addFile",
        "title": "Add File to KB",
        "icon": "$(add)"
      },
      {
        "command": "sumo.kbExplorer.removeFile",
        "title": "Remove File from KB",
        "icon": "$(remove)"
      }
    ],
    "keybindings": [
      {
        "command": "sumo.formatAxiom",
        "key": "ctrl+shift+f",
        "mac": "cmd+shift+f",
        "when": "editorLangId == suo-kif && editorHasSelection"
      },
      {
        "command": "sumo.goToDefinition",
        "key": "f12",
        "mac": "f12",
        "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB"
      },
      {
        "command": "sumo.browseInSigma",
        "key": "ctrl+shift+b",
        "mac": "cmd+shift+b",
        "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB"
      }
    ],
    "views": {
      "explorer": [
        {
          "id": "sumo.kbExplorer",
          "name": "Knowledge Bases",
          "icon": "$(search)"
        }
      ]
    },
    "viewsWelcome": [
      {
        "view": "sumo.kbExplorer",
        "contents": "SUMO Extension has not been started.\n[Start Sigma](command:sumo.openKnowledgeBase)"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "sumo.searchSymbol",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.showTaxonomy",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.formatAxiom",
          "when": "editorLangId == suo-kif"
        },
        {
          "command": "sumo.goToDefinition",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.browseInSigma",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.checkErrors",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.queryProver",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.runProverOnScope",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.generateTPTP",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.createKnowledgeBase",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.kbExplorer.refresh",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.kbExplorer.addFile",
          "when": "sumo.KBOpened && sumo.inKB"
        },
        {
          "command": "sumo.kbExplorer.removeFile",
          "when": "sumo.KBOpened && sumo.inKB"
        }
      ],
      "view/title": [
        {
          "command": "sumo.kbExplorer.refresh",
          "when": "view == sumo.kbExplorer && sumo.KBOpened",
          "group": "navigation"
        },
        {
          "command": "sumo.createKnowledgeBase",
          "when": "view == sumo.kbExplorer && sumo.KBOpened",
          "group": "navigation"
        }
      ],
      "view/item/context": [
        {
          "command": "sumo.kbExplorer.addFile",
          "when": "view == sumo.kbExplorer && viewItem == kb",
          "group": "inline"
        },
        {
          "command": "sumo.kbExplorer.removeFile",
          "when": "view == sumo.kbExplorer && viewItem == kbFile",
          "group": "inline"
        },
        {
          "command": "sumo.kbExplorer.addFile",
          "when": "view == sumo.kbExplorer && viewItem == kb",
          "group": "modify@1"
        },
        {
          "command": "sumo.kbExplorer.removeFile",
          "when": "view == sumo.kbExplorer && viewItem == kbFile",
          "group": "modify@1"
        }
      ],
      "editor/context": [
        {
          "command": "sumo.searchSymbol",
          "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB",
          "group": "navigation@1"
        },
        {
          "command": "sumo.goToDefinition",
          "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB",
          "group": "navigation@2"
        },
        {
          "command": "sumo.showTaxonomy",
          "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB",
          "group": "navigation@3"
        },
        {
          "command": "sumo.browseInSigma",
          "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB",
          "group": "navigation@4"
        },
        {
          "command": "sumo.formatAxiom",
          "when": "editorLangId == suo-kif && editorHasSelection",
          "group": "1_modification@1"
        },
        {
          "command": "sumo.checkErrors",
          "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB",
          "group": "1_modification@2"
        },
        {
          "command": "sumo.queryProver",
          "when": "editorLangId == suo-kif && editorHasSelection && sumo.KBOpened && sumo.inKB",
          "group": "1_modification@3"
        },
        {
          "command": "sumo.runProverOnScope",
          "when": "editorLangId == suo-kif && sumo.KBOpened && sumo.inKB",
          "group": "1_modification@4"
        }
      ]
    },
    "configuration": [
      {
        "title": "General",
        "properties": {
          "sumo.general.language": {
            "type": "string",
            "default": "EnglishLanguage",
            "description": "The language to use for documentation strings (e.g. EnglishLanguage)."
          },
          "sumo.general.formatIndentSize": {
            "type": "number",
            "default": 2,
            "description": "Number of spaces for each indentation level when formatting."
          }
        }
      },
      {
        "title": "Sigma",
        "properties": {
          "sumo.sigma.url": {
            "type": "string",
            "default": "http://sigma.ontologyportal.org:8080/sigma/Browse.jsp",
            "description": "URL of the Sigma KB browser. Defaults to using the public version"
          },
          "sumo.sigma.knowledgeBase": {
            "type": "string",
            "default": "SUMO",
            "description": "Knowledge base to use in Sigma browser (e.g., SUMO)."
          },
          "sumo.sigma.srcPath": {
            "type": "string",
            "default": "",
            "description": "Path to SigmaKEE installation or source directory (if not specified, will try to use $SIGMA_SRC)"
          },
          "sumo.sigma.homePath": {
            "type": "string",
            "default": "",
            "description": "Path to SigmaKEE home directory. If not specified, will use $SIGMA_HOME."
          },
          "sumo.sigma.runtime": {
            "type": "string",
            "enum": [
              "local",
              "docker",
              "native (experimental)"
            ],
            "default": "local",
            "description": "How to run Sigma. If set to local, use a local installation, if set to docker, use a running docker instance, if set to native, use the experimental JS implementation of Sigma (not recommended)"
          },
          "sumo.sigma.dockerImage": {
            "type": "string",
            "default": "apease/sigmakee",
            "description": "Docker image to use if sumo.sigmaRuntime is set to 'docker'."
          },
          "sumo.sigma.externalKBPath": {
            "type": "string",
            "default": "",
            "description": "Path to an external knowledge base directory (e.g. SUMO) to integrate with."
          },
          "sumo.sigma.configXmlPath": {
            "type": "string",
            "default": "",
            "description": "Path to Sigma's config.xml file. If not set, the extension will search common locations."
          },
          "sumo.sigma.enforceKBContext": {
            "type": "boolean",
            "default": true,
            "description": "When enabled, KB-level operations (workspace conversion, KB export) require working within a configured KB directory. Disable for advanced users who want unrestricted access."
          }
        }
      },
      {
        "title": "Theorem Prover",
        "description": "Settings relating to using a theorem prover within VSCode",
        "properties": {
          "sumo.theoremProver.path": {
            "type": "string",
            "default": "",
            "description": "Path to theorem prover executable (Vampire or E-Prover)."
          },
          "sumo.theoremProver.type": {
            "type": "string",
            "enum": [
              "vampire",
              "eprover"
            ],
            "default": "vampire",
            "description": "Type of theorem prover to use."
          },
          "sumo.theoremProver.timeout": {
            "type": "number",
            "default": 30,
            "description": "Timeout in seconds for theorem prover queries."
          },
          "sumo.theoremProver.tptpLang": {
            "type": "string",
            "enum": [
              "fof",
              "tff",
              "thf"
            ],
            "default": "fof",
            "description": "TPTP output format: fof (first-order), tff (typed first-order), or thf (typed higher-order)."
          }
        }
      }
    ],
    "languages": [
      {
        "id": "suo-kif",
        "aliases": [
          "SUO-KIF",
          "KIF",
          "SUMO"
        ],
        "icon": {
          "light": "./res/icon/kif-file-icon.png",
          "dark": "./res/icon/kif-file-icon.png"
        },
        "extensions": [
          ".kif"
        ],
        "configuration": "./res/lang/suo-kif-language-configuration.json"
      },
      {
        "id": "tptp",
        "aliases": [
          "TPTP",
          "TPTP Problem"
        ],
        "icon": {
          "light": "./res/icon/tptp-file-icon.png",
          "dark": "./res/icon/tptp-file-icon.png"
        },
        "extensions": [
          ".p",
          ".tptp",
          ".ax"
        ],
        "configuration": "./res/lang/tptp-language-configuration.json"
      }
    ],
    "grammars": [
      {
        "language": "suo-kif",
        "scopeName": "source.suo-kif",
        "path": "./res/syntaxes/suo-kif.tmLanguage.json"
      },
      {
        "language": "tptp",
        "scopeName": "source.tptp",
        "path": "./res/syntaxes/tptp.tmLanguage.json"
      }
    ]
  },
  "dependencies": {
    "dockerode": "^4.0.9",
    "js4j": "^0.1.2"
  }
}
